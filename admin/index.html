<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Manager â€” Averris</title>
  <link rel="icon" type="image/png" href="../assets/logo dark.png">
</head>
<body>
  <!-- Include the Decap CMS script -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  
  <!-- Configure and initialize CMS with our settings -->
  <script type="module">
    const config = {
      backend: {
        name: 'git-gateway',
        branch: 'main',
        identity_url: 'https://averris.netlify.app/.netlify/identity',
        gateway_url: 'https://averris.netlify.app/.netlify/git/github'
      },
      media_folder: 'assets/articles',
      public_folder: '/assets/articles',
      collections: [{
        name: 'insights',
        label: 'Insights',
        folder: 'articles',
        create: true,
        slug: '{{year}}-{{month}}-{{day}}-{{slug}}',
        fields: [
          { label: 'Title', name: 'title', widget: 'string' },
          { label: 'Publish Date', name: 'date', widget: 'datetime' },
          { label: 'Category', name: 'category', widget: 'select', options: ['thinkers', 'publishers', 'impact'] },
          { label: 'Featured Image', name: 'image', widget: 'image', required: false },
          { label: 'Excerpt', name: 'excerpt', widget: 'text', required: false },
          { label: 'Read Time (minutes)', name: 'readTime', widget: 'number', default: 5, value_type: 'int' },
          { label: 'Body', name: 'body', widget: 'markdown' },
          { label: 'Author', name: 'author', widget: 'string', required: false },
          { label: 'Tags', name: 'tags', widget: 'list', required: false }
        ]
      }]
    };

    CMS.init({ config });
  </script>
</body>
</html>

